angular.module("MultipleChoice",["ngAnimate","ionic","multipleChoice.services","multipleChoice.controllers"]).config(["$stateProvider","$urlRouterProvider",function(a,b){a.state("tab",{url:"/tab","abstract":!0,templateUrl:"templates/tabs.html"}).state("tab.questions",{url:"/questions",views:{"quiz-tab":{templateUrl:"templates/quiz.html",controller:"QuizCtrl"}}}).state("tab.question",{url:"/question/:questionId",views:{"quiz-tab":{templateUrl:"templates/question.html",controller:"QuestionCtrl"}}}).state("tab.results",{url:"/results",views:{"quiz-tab":{templateUrl:"templates/results.html",controller:"ResultsCtrl"}}}).state("tab.home",{url:"/home",views:{"home-tab":{templateUrl:"templates/home.html"}}}).state("tab.about",{url:"/about",views:{"about-tab":{templateUrl:"templates/about.html"}}}),b.otherwise("/tab/home")}]),angular.module("multipleChoice.controllers",[]).controller("QuizCtrl",["$scope","$log","QuizService",function(a,b,c){a.questions=c.all()}]).controller("QuestionCtrl",["$scope","$log","$stateParams","$ionicModal","QuizService",function(a,b,c,d,e){ionic.Platform.ready(function(){StatusBar.hide()}),a.test="test",a.question=e.get(c.questionId),a.numberOfQuestions=e.all().length,a.modal,a.currentOption=-1,a.optionSelected=function(d){b.info("item: ",d.id);var f=a.question.options[d.id].answer;b.info("correct answer : "+f),e.mark(c.questionId,f)},d.fromTemplateUrl("modal.html",function(c){b.info("setting up the modal window!"),a.modal=c},{scope:a,animation:"slide-in-up"}),a.openModal=function(){b.info("open the bloody window! || ",a.modal),a.title=a.question.title,a.text=a.question.text,a.image=a.question.image,a.modal.show()},a.$on("$destroy",function(){a.modal.remove()})}]).controller("ResultsCtrl",["$scope","$log","$stateParams","$state","QuizService",function(a,b,c,d,e){a.numberOfQuestions=e.all().length,a.numberOfCorrectAnswers=e.getNumberOfCorrectAnswers(),a.reset=function(){e.reset(),d.transitionTo("tab.questions")}}]),angular.module("multipleChoice.services",[]).factory("QuizService",function(){var a=[{id:0,title:"The Tudors",text:"Do you know how many wives did HenryVIII have?",correct:!1,image:"henryviii.png",options:[{id:0,text:"1",answer:!1},{id:1,text:"3",answer:!1},{id:2,text:"6",answer:!0},{id:3,text:"13",answer:!1}]},{id:1,title:"The Romans",text:"Which Roman Emperor built a massive wall across Northern Britain in 122 A.D.?",correct:!1,image:"hadrianswall.png",options:[{id:0,text:"Marcus Aurelius",answer:!1},{id:1,text:"Hadrian",answer:!0},{id:2,text:"Nero",answer:!1},{id:3,text:"Augustus",answer:!1}]},{id:2,title:"The Elizabethans",text:"In 1594 William Shakespeare joined the company of this London theatre.",correct:!1,image:"globe.png",options:[{id:0,text:"Broadway",answer:!1},{id:1,text:"Oxford University Theatre",answer:!1},{id:2,text:"The Globe",answer:!0},{id:3,text:"The London Palladium",answer:!1}]},{id:3,title:"The Renaissance",text:"The first successful printing press was developed by this man.",correct:!1,image:"gutenberg.png",options:[{id:0,text:"Johannes Gutenburg",answer:!0},{id:1,text:"Benjamin Franklin",answer:!1},{id:2,text:"Sir Isaac Newton",answer:!1},{id:3,text:"Martin Luther",answer:!1}]}];return{all:function(){return a},get:function(b){return a[b]},mark:function(b,c){a[b].correct=c},getNumberOfCorrectAnswers:function(){for(var b,c=0,d=0;d<a.length;d++)b=a[d],b.correct&&c++;return c},reset:function(){for(var b=0;b<a.length;b++)a[b].correct=!1}}});